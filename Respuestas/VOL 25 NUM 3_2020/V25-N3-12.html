<!-- <!DOCTYPE html> -->
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V25-N3-12</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="image">
        <img src="img/V25-N3-12/cabeza.jpg" width="100%">
    </div>

    <div>
        <div class="articulo-original">
            <p>
            <div id="articulo-derecha"><b> <u> Articulo Original</u> </b> </div>
            <div style='text-align:right'><b> <u><img class="image" width="15px" src="img/globales/doi.png"><a
                            class="link-color"
                            href="https://doi.org/10.22463/0122820X.1856">https://doi.org/10.22463/0122820X.1856</a></u>
                </b></div>
            </p>
        </div>



        <!--Titulos-->
        <h1>Macroscopic energy representation and simulation of a permanent magnet
            synchronous machine
        </h1>

        <h2>RepresentaciÃ³n EnergÃ©tica MacroscÃ³pica y SimulaciÃ³n de una MÃ¡quina SÃ­ncrona de Imanes Permanentes
        </h2>


        <!--Autores-->
        <h4>
            Juan Diego Correa Casas<sup><a href="#sup1">1*</a> </sup> <br>
            Diego Steven Rayo Villamizar<sup><a href="#sup2">2*</a> </sup> <br>
            Javier Enrique Solano MartÃ­nez<sup><a href="#sup3">3*</a> </sup> <br>

        </h4>

        <hr>

        <p id="sup1"><sup>1*</sup><img class="logos" src="img/globales/sobre.png"> Estudiante de IngenierÃ­a ElÃ©ctrica, <a
                href="juandiegocorrea.9@gmail.com">juandiegocorrea.9@gmail.com </a>.
            <img class="logos" src="img/globales/orcid.png">
            Universidad Industrial de Santander, Bucaramanga, Colombia.
        </p>

        <p id="sup2"><sup>2*</sup><img class="logos" src="img/globales/sobre.png"> Estudiante de IngenierÃ­a ElÃ©ctrica, <a
                href="diegostevenrayo@gmail.com">diegostevenrayo@gmail.com </a>.
            <img class="logos" src="img/globales/orcid.png">
            Universidad Industrial de Santander, Bucaramanga, Colombia.
        </p>

        <p id="sup3"><sup>3*</sup><img class="logos" src="img/globales/sobre.png"> Ph.D. Electrical engineering, <a
                href="javier.solano@saber.uis.edu.co">javier.solano@saber.uis.edu.co </a>.
            <img class="logos" src="img/globales/orcid.png"> <a href="https://orcid.org/0000-0002-6782-5547">ORCID:
                0000-0002-6782-5547</a>.
            Universidad Industrial de Santander, Bucaramanga.
        </p>


        <hr>

        <!-- Como realizar la cita -->

        <p><b>CÃ³mo citar: </b> A. N. HernÃ¡ndez-DurÃ¡n, W. GutiÃ©rrez-NiÃ±o, D. A. Miranda-Mercado, â€œElectronic
            localization in Hexagonal CoreShell Nanowires Under External Fieldsâ€, Respuestas, vol. 25, no. 3, 154-164,
            2020.</p>

        <!--Licencia-->
        <p>&copy; Peer review is the responsibility of the Universidad Francisco de Paula Santander. This is an article
            under the license <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/"> CC BY-NC-ND 4.0 </a> </p>
        <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img
                alt="Licencia de Creative Commons" style="border-width:0"
                src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a>

        <hr>

        <!--Recibido y aprobado-->
        <p><b>Received: </b> March 8, 2020 <br> <b>Approved: </b> July 24, 2020. </p>


        <!--Resumen InglÃ©s-->
        <hr>

        <div class="abstract-container">
            <div class="keywords-container">
                <p><b>Keywords</b> <br></p>
                <p>Control,
                    Permanent
                    Magnet
                    Synchronous
                    Machine,
                    Macroscopic
                    Energetic
                    Representation.</p>
            </div>
            <hr>
            <div class="text-container">
                <p class="titulo"> Abstract</p>
                <p>
                    This article presents a simulation model of the synchronous permanent magnet machine (MSIP) and
                    its speed control system using the Macroscopic Energetic Representation (REM) formalism. This
                    graphic description allows making a control scheme based on the inversion of the machine model.
                    The models are validated by comparison with the results presented in the literature. To show the
                    utility of the model presented, the simulation results of the machine are presented under different
                    operating conditions and control references.

                </p>
            </div>
        </div>

        <!-- Resumen EspaÃ±ol -->
        <hr>

        <div class="abstract-container">
            <div class="keywords-container">
                <p><b>Palabras claves</b> <br></p>
                <p>Control,
                    MÃ¡quina
                    Sincronizada de
                    Imanes
                    Permanentes,
                    RepresentaciÃ³n
                    EnergÃ©tica
                    MacroscÃ³pica.
                </p>
            </div>
            <hr>
            <div class="text-container">
                <p class="titulo"> Resumen</p>

                <p>
                    Este artÃ­culo presenta un modelo de simulaciÃ³n de la mÃ¡quina sÃ­ncrona de imanes permanentes
                    (MSIP) y su sistema de control de velocidad utilizando el formalismo de la RepresentaciÃ³n
                    EnergÃ©tica MacroscÃ³pica (REM). Esta descripciÃ³n grÃ¡fica permite realizar un esquema de control
                    basado en la inversiÃ³n del modelo de la mÃ¡quina. Los modelos se validan por comparaciÃ³n con los
                    resultados presentados en la literatura. Para mostrar la utilidad del modelo presentado, se
                    presentan
                    los resultados de simulaciÃ³n de la mÃ¡quina bajo diferentes condiciones de operaciÃ³n y referencias
                    de control.
                </p>
            </div>
        </div>

    </div>

    <!-- Cuerpo del documento -->
    <div>
        <hr>
        <!--IntroducciÃ³n-->
        <p class="titulo"> Introduction</p>

        <p>Permanent magnet synchronous machines have been widely used over time in various industrial applications and
            electrical processes, such as in research studies on electric vehicles and wind generation [1], [2]. Its
            operation is similar to that of a conventional synchronous machine, in which the rotor rotates at the same
            speed as the rotating magnetic field of the stator, maintaining a phase shift between them equivalent to an
            angle Î¸ also known as the rotor angle.</p>
        <p>There are different ways to study its behavior and in this way evaluate different speed or torque control
            strategies, such as vector controls, scalar controls, or controls based on non-linear techniques. The
            Energetic Macroscopic Representation (EMR) [3], [4], is a formalism developed for investigations of complex
            electromechanical conversion systems.</p>
        <p>This functional description is a graphical and multi-physical formalism that allows highlighting the
            properties of each subsystem and allows the understanding of each one of them separately, replacing any
            functional block (See appendix) and coupling it to the general system without having to modify the whole of
            the set [5], based on the principle of action and reaction, and the principle of causality. The EMR control
            methodology is based on specific investment rules.</p>



        <!-- MetodologÃ­a y materiales -->
        <hr>

        <p class="titulo">Materials and methods
        </p>

        <p>The dynamic model of the MSIP used is the one proposed in [1], [2]. For this, it is assumed that the effects
            produced by the stator grooves can be neglected, as well as the losses in the iron and the saturation of the
            magnetic material. For simplicity, the model will be obtained for a permanent magnet machine, assuming that
            the air gap has uniform reluctance. If it is considered that the windings of the three phases are
            symmetrical (the three phases have the same value of inductance and resistance), and also the currents are
            balanced (ia + ib + ic = 0), the electrical equations of the stator can be written as,</p>

        <div class="image">
            <img src="img/V25-N3-12/img1.jpg" height="200px" width="auto">
        </div>

        <p><i> Where:</i></p>

        <p><i> v<sub>a</sub>, v<sub>b</sub>, and v<sub>c</sub> are the stator voltages (V).</i></p>
        <p><i> i<sub>a</sub>, i<sub>b</sub>, and i<sub>c</sub> are the stator currents (A).</i></p>
        <p><i> e<sub>a</sub>, e<sub>b</sub>, and e<sub>c</sub> are the emf induced in each phase of the stator </i>(V).
        <p><i> The constants R and L are the resistance (Î©) and inductance (H) of the stator, respectively.</i></p>
        <p>The dynamic model of an MSIP can be represented by a new set of variables using the Park transformation [P
            (Î¸)], which refers the variables to a stationary frame of reference dq [1-2], that is,</p>

        <div class="image">
            <img src="img/V25-N3-12/img2.jpg" height="90px" width="auto">
        </div>


        <p>Being x arbitrary variables y,</p>


        <div class="image">
            <img src="img/V25-N3-12/img3.jpg" height="160px" width="auto">
        </div>


        <p><i> Where:</i></p>
        <p><i> ğœƒ is the phase between the stator and the rotor, which can be obtained from the shaft speed:</i></p>

        <div class="image">
            <img src="img/V25-N3-12/img4.jpg" height="110px" width="auto">
        </div>

        <p><i> Where:</i></p>
        <p><i> p is the number of pole pairs.</i></p>
        <p><i> â„¦<sub>eje</sub> is the speed of rotation on the shaft.</i></p>
        <p>In the stationary reference frame dq, the equivalent machine is mainly composed of an accumulation element
            and an electromechanical converter as shown in Figure 1. Equivalent inductances (armature windings) produce
            the machine currents ğ‘–ğ‘ ğ‘š_ğ‘‘ğ‘ from stator voltages ğ‘£ğ‘ ğ‘š_ğ‘‘ğ‘ and electromotive forces ğ‘’ğ‘ ğ‘š_ğ‘‘ğ‘ as it
            is shown in (7).</p>

        <div class="image">
            <img src="img/V25-N3-12/img5.jpg" height="100px" width="auto">
        </div>

        <p>In the electromechanical converter, the torque of the machine (8) and the electromotive forces (9) and (10)
            are produced by the currents of the machine and the speed of rotation of the shaft.</p>

        <div class="image">
            <img src="img/V25-N3-12/img6.jpg" height="180px" width="auto">
        </div>

        <p><i> Where:</i></p>
        <p><i> ğ‘‡<sub>ğ‘ ğ‘š</sub> is the electromagnetic torque of the machine (N.m).</i></p>
        <p><i> ğœ™<sub>ğ‘Ÿğ‘‘</sub> is the rotor flux induced by the permanent magnets (Wb).</i></p>
        <p><i> The mechanical equation of the torques of the machine can be seen in the following equation where the
                speed of the rotor of the machine is determined:</i></p>

        <div class="image">
            <img src="img/V25-N3-12/img7.jpg" height="100px" width="auto">
        </div>
        <p><i> Where:</i></p>
        <p><i> ğ½<sub>ğ‘’ğ‘—ğ‘’</sub> and ğ‘“<sub>ğ‘’ğ‘—ğ‘’</sub> are the moment of inertia (kg.m<sup>2</sup>) and the
                coefficient of viscous friction (N.m.s) of the equivalent axis.</i></p>
        <p><i> ğ‘‡ğ¿ is the load torque.</i></p>



        <p class="subtitulo">EMR basics</p>

        <p class="subtitulo-segundo">Principle of causality:</p>

        <p>As in [9], only integral causality is considered in EMR. This property leads to defining accumulation
            elements through a time-dependent relationship between its variables, which leads to its output is an
            integral function of its inputs. Other items are described using non-time dependent relationships. To
            respect integral causality, specific association rules are defined.</p>
        <p class="subtitulo-segundo">Investment principle:</p>
        <p>The control structure of a system is considered as an inversion of the system model: the control has to
            define the inputs to apply to the system from the desired output (Figure 1). In this method, time-free
            relationships are reversed directly without control or measurement. Because derived causality is prohibited,
            a direct reversal of time-dependency relationships is not possible. Therefore, an indirect investment is
            made using a controller and measurements.</p>
        <p>These inversion rules have been extended to EMR (blue pictograms, see appendix): conversion elements are
            inverted directly, accumulation elements are inverted using a controller (closed-loop control), and coupling
            devices are inverted using inputs of distribution. It is another way to locate controllers and measurements.
        </p>


        <div class="image">
            <img src="img/V25-N3-12/img8.jpg" height="300px" width="auto">
        </div>

        <p>As an example of this, the inversion of the voltage-current relationship of the armature winding (7) requires
            a closed-loop control since it is a time-dependent energy accumulation to obtain the reference voltage
            ğ‘£<sub>ğ‘ ğ‘š_ğ‘‘ğ‘_ğ‘Ÿğ‘’ğ‘“</sub> from the reference current and its corresponding measurement:</p>


        <div class="image">
            <img src="img/V25-N3-12/img9.jpg" height="80px" width="auto">
        </div>

        <p>Where:</p>
        <p>ğ‘‹(ğ‘¡) is the controller which can be P, PI or another type.</p>
        <p>A direct inversion of (8) that does not depend on time leads to the reference current ğ‘–ğ‘ ğ‘šğ‘_ğ‘Ÿğ‘’ğ‘“ from
            reference torque ğ‘‡<sub>ğ‘ ğ‘š_ğ‘Ÿğ‘’ğ‘“</sub> as follows:</p>

        <div class="image">
            <img src="img/V25-N3-12/img10.jpg" height="80px" width="auto">
        </div>

        <p class="subtitulo-segundo">Macroscopic Energy Representation of the MSIP</p>
        <p>The REM of the MSIP (Figure 2) is made up of the following elements: a direct current source, an inverter,
            the permanent magnet synchronous machine, and finally, a mechanical load connected to the machine shaft.
            Each of these elements is represented using the following blocks: a source block (green oval) to represent
            the electrical source and mechanical load that can be seen as an energy sink, a mono-physical conversion
            block (orange box) to represent the inverter, an accumulation block (the orange rectangle with line
            diagonal) to represent the machine windings and finally a multi-physical conversion block to represent the
            electro-mechanical transformation. The inversion of the machine model is carried out following the rules of
            the REM.</p>

        <div class="image">
            <img src="img/V25-N3-12/img11.jpg" height="800px" width="auto">
        </div>
        <div class="image">
            <img src="img/V25-N3-12/img12.jpg" height="600px" width="auto">
        </div>

        <p>It should be clarified that the accumulation block requires the speed of the machine, not for the exchange of
            energy, but to carry out the Park transformation. The speed of the machine is sent to the accumulation
            block, without appearing explicitly under REM. On the other hand, in the Simulink implementation, it will be
            explicitly displayed in another color (gray) to avoid confusion.</p>
        <p class="subtitulo-segundo">MSIP control structure</p>
        <p>The control is based on the inversion rules of the local functions of the EMR elements, where it is required
            to define a reference input in each control block to establish the desired output. In this case, as shown in
            Figure 3, a reference signal of the speed of the machine to be followed is entered.</p>
        <p>The accumulation elements induce state variables when they use integral causality, due to this, they cannot
            be physically inverted, and therefore, controllers are required to carry out indirect investments.
            Conversion elements by having time-independent relationships can be reversed directly [5].</p>


        <!-- Resultados y discusion -->
        <hr>
        <p class="titulo">Results and Discussion</p>

        <p>The model implemented in Matlab Simulink (Figure 3) is validated by comparing two case studies with results
            obtained for two permanent magnet synchronous machines proposed in the literature [7] - [8]. After
            validating the models, the control is evaluated by imposing variable operating conditions on the load
            torque, and it is sought to maintain a reference speed profile.</p>

        <div class="image">
            <img src="img/V25-N3-12/img13.jpg" height="400px" width="auto">
        </div>

        <p class="subtitulo">Case study 1.</p>

        <p>The first case study uses machine 1 presented in [7], whose parameters are presented in Table I.</p>
        <div class="image">
            <img src="img/V25-N3-12/img14.jpg" height="400px" width="auto">
        </div>

        <p>Reference profiles for load torque (red) and speed (blue) are shown in Figure 4. A no-load start is simulated
            and then a load with a resistant torque of 8.45 [Nm] is added at 0.5 [s]. This shows that, from this EMR
            formalism, it is possible to control the speed of the machine based on the principles of action and
            reaction, causality, and the investment rules mentioned above.</p>

        <div class="image">
            <img src="img/V25-N3-12/img15.jpg" height="400px" width="auto">
        </div>


        <p>Figure 5 shows the result obtained for the speed of the machine, where it can be seen that the correct
            monitoring of the required speed profile is carried out, even when the load is connected after 0.5 [s].</p>
        <div class="image">
            <img src="img/V25-N3-12/img16.jpg" height="400px" width="auto">
        </div>


        <p>Figure 6 presents the current and voltage of the MSIP. In this case, it is possible to observe the variations
            in the stator current and the voltage at the MSIP terminals when the variation in the load torque occurs at
            0.5
            [s] and in the speed at 0.65 [s], thus showing a normal behavior on the machine.</p>
        <div class="image">
            <img src="img/V25-N3-12/img17.jpg" height="400px" width="auto">
        </div>

        <div class="image">
            <img src="img/V25-N3-12/img18.jpg" height="450px" width="auto">
        </div>

        <p>In Figure 7 the previous results are shown with a zoom in the course of time in which the aforementioned
            variations are made to have a better visualization of the behavior of the main variables of the machine.</p>

        <div class="image">
            <img src="img/V25-N3-12/img19.jpg" height="400px" width="auto">
        </div>
        <div class="image">
            <img src="img/V25-N3-12/img20.jpg" height="580px" width="auto">
        </div>


        <p class="subtitulo">Case study 2.</p>

        <p>Below is another example of the use of the EMR formalism to control the speed of the machine proposed in [8].
            Its parameters are shown in Table III.</p>

        <div class="image">
            <img src="img/V25-N3-12/img21.jpg" height="400px" width="auto">
        </div>

        <p>The results obtained that are shown below in Figures 8-11 confirm that the macroscopic energy representation
            is an alternative for studying the models and control of different electromechanical machines and systems
            through the implementation of their pictograms, the investment rules, and the principle of causality.</p>

        <div class="image">
            <img src="img/V25-N3-12/img22.jpg" height="400px" width="auto">
        </div>
        <div class="image">
            <img src="img/V25-N3-12/img23.jpg" height="400px" width="auto">
        </div>
        <div class="image">
            <img src="img/V25-N3-12/img24.jpg" height="400px" width="auto">
        </div>
        <div class="image">
            <img src="img/V25-N3-12/img25.jpg" height="520px" width="auto">
        </div>


        <div class="image">
            <img src="img/V25-N3-12/img26.jpg" height="400px" width="auto">
        </div>
        <div class="image">
            <img src="img/V25-N3-12/img27.jpg" height="520px" width="auto">
        </div>

        <!-- Conclusiones -->
        <hr>

        <p class="titulo"> Conclusions</p>
        <p>The macroscopic energy representation provides a great facility to model and controls the MSIP and different
            electromechanical systems based on investment rules and integral causality.</p>
        <p>The formalism represents an alternative for the simplified description of large processes that require a
            greater number of machines connected, and that due to their different pictograms can be analyzed in a more
            didactic way.</p>
        <p>A simulation model is implemented in Matlab Simulink, which will be distributed at the request of interested
            researchers.</p>



        <!-- Referencias -->

        <hr>

        <p class="titulo"> References </p>


        <p>[1] A. Bouscayrol, P. Delarue and X. Guillaud, â€œPower strategies for maximum control structure of a wind
            energy
            conversion system with a synchronous machineâ€, Renew. Energy, vol. 30, no. 15, pp. 2273- 2288, 2005.</p>

        <p>[2] A. Bouscayrol, P. Delarue, X. Guillaud and W. Lhomme, â€œSimulation of a Wind Energy Conversion System
            using
            Energetic Macroscopic Representationâ€, 2012 15th Int. Power Electron. Motion Control Conf., pp.
            DS3e.8-1-DS3e.8-6, 2012.</p>
        <p>[3] A. Bouscayrol et al., â€œTeaching drive control using Energetic Macroscopic Representationâ€, initiation
            level
            Keywords.</p>
        <p>[4] A. Bouscayrol et al., â€œTeaching drive control using Energetic Macroscopic Representation-expert levelâ€,
            Power Electron. Appl. 2009. EPE â€™09. 13th Eur. Conf., pp. 1-9, 2009.</p>
        <p>[5] C. Mayet, M. Mejri, A. Bouscayrol, J. Pouget and Y. Riffonneau, â€œEnergetic Macroscopic Representation and
            inversion-based control of the traction system of a hybrid locomotiveâ€, 2012 IEEE Veh. Power Propuls. Conf.
            VPPC
            2012, no. 1, pp. 491-496, 2012.</p>
        <p>[6] Y. D. Wankam, P. Sicard and A. Bouscayrol, â€œMaximum control structure of a five-drive paper system using
            energetic macroscopic representationâ€, IECON Proc. Industrial Electron. Conf., no. Section V, pp. 5332-5337,
            2006.</p>
        <p>[7] J. Solano, â€œEnergy management of a hybrid electric vehicleâ€¯: an approach based on type-2 fuzzy logic To
            cite
            this versionâ€¯: HAL Idâ€¯: tel-00699896 vÃ©hicule hybride lourdâ€¯: approche par logique floue de type-2 Energy
            management of a hybrid electric vehicleâ€¯: an approacâ€, 2012.</p>
        <p>[8] F. D. E. IngenierÃ­a and C. H. De Angelo, â€œCONTROL PARA MÃQUINAS DE CA DE IMANES PERMANENTES CON FEM
            ARBITRARIA, SIN SENSORES MECÃNICOS Cristian HernÃ¡n De Angeloâ€, 2004.</p>
        <p>[9] J. Hautier, â€œThe Causal Ordering Graph A tool for system modelling and control law synthesisâ€,
            Laboratoire dâ€™Electrotechnique et dâ€™Electronique de Puissance de Lille, ENSAM, 2014.</p>
        <p>[10] P. Barre et al., â€œInversion-based control of electromechanical systems using causal graphical
            descriptions To cite this versionâ€¯: HAL Idâ€¯: hal-01109564 Science Arts & MÃ©tiers ( SAM )â€, 2015.</p>

    </div>

</body>

</html>